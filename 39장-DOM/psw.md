# 39장 DOM

# 39.1 노드

### 39.1.1 HTML요소와 노드 객체

HTML 요소란 HTML문서를 이루는 개별적인 요소를 의미한다. HTML요소는 렌더링 엔진이 파싱하면 DOM을 구성하는 요소 노드 객체가 된다. 이 때 HTML요소의 어트리뷰트는 어트리뷰트 노드가 되고 텍스트 콘텐프는 텍스트 노드가 된다.

> 트리 자료구조 : 각 노드가 계층적으로 연결되어 있는 비선형 자료 구조

노드 객체들로 이루어진 트리 자료구조를 DOM이라 한다.

### 39.1.2 노드 객체의 타입

- 문서 노드 : DOM트리의 최상단에 위치한 노드로 document객체를 가리킨다. document객체는 브라우저가 렌더링한 HTML문서 전체를 가리키는 객체로 전역 객체 window의 document프로퍼티에 바인딩 되어있다. 문서 노드는 항상 루트 노드이다.
- 요소 노드 : HTML요소를 가리키는 객체다. 문서의 구조를 이룬다.
- 어트리뷰트 노드 : HTML요소의 어트리뷰트를 가라키는 노드이다. 어트리뷰트 노드는 요소 노드에 연결되어있다.
- 텍스트 노드 : HTML요소의 텍스트를 가리키며 문서의 정보를 표현한다. 텍스트 노드는 항상 리프노드이다.

### 39.1.3 노드 객체의 상속 구조

DOM을 구성하는 노드 객체는 ECMAScript가 아닌 브라우저의 호스트 객체를 따른다.

![KakaoTalk_Snapshot_20231012_173313.png](39%E1%84%8C%E1%85%A1%E1%86%BC%20DOM%20200cd72ee4a54b66b145fdaa20ae2e2e/KakaoTalk_Snapshot_20231012_173313.png)

이와 같이 모든 노드 객체는 Object, EventTarget, Node 인터페이스를 상속 받는다. 문서 노드는 Document, HTMLDocument 인터페이스를 상속 받는다. 어트리뷰트는 Attr인터페이스를 상속 받고 텍스트 노드는 CharacterData 인터페이스를 상속 받는다. 요소 노드는 Element 인터페이스를 상속 받으며 추가적으로 HTMLElement 인터페이스와 종류별로 세분화된 인터페이스를 상속 받는다.

# 39.2 요소 노드 취득

요소 노드의 취득이란 HTML의 구조나 내용, 스타일 등을 동적으로 조작하기 위한 첫 번째 과정이다. 조작 하고자 하는 요소에 접근해야만 그 요소를 조작 할 수 있기 때문이다.

### 39.2.1 id를 이용한 요소 노드 취득

.getElementById 메서드에 인수로 전달한 id 어트리뷰트 값 의 요소 노드를 탐색하여 반환한다.

### 39.2.2 태그 이름을 이용한 요소 노드 취득

.getElementsByTagName 메서드는 인수로 받은 태그 이름을 받고 해당 태그의 요소 노드를 탐색하여 반환한다. 이 메서드는 이름에서 유추 할 수 있듯이 여러개의 요소 노드 객체를 갖는 DOM 컬랙션 객체인 HTMLCollection 객체를 반환한다.

반환 되는 HTMLCollection 객체는 유사 배열 객체이면서 이터러블이다.

### 39.2.3 class를 이용한 요소 노드 취득

.getElementsByClassNAme 메서드는 인수로 받은 class 어트리뷰트 값을 가진 모든 요소 노드들을 탐색한다. 문자열 형태로 전달 받으며 공백을 각 요소를 구분한다. 즉 여러개의 class네임을 받아 탐색 할 수 있다.

### 39.2.4 CSS 선택자를 이용한 요소 노드 취득

CSS 선택자는 스타일을 적용하고자 하는 HTML요소를 특정 할 때쓰는 문법이다.

- - (전체 선택자) : 모든 요소를 선택
- p(태그 선택자) : 모든 p태그 요소를 모두 선택
- #{a}(id 선택자) : id값이 a인 모든 요소를 선택
- .{a}(class 선택자) : class 값이 a인 모든 요소를 선택
- input[type=text] (어트리뷰트 선택자) : input 요소 중에 type 어트리뷰트 값이 ‘text’인 요소를 모두 선택
- div p (후손 선택자) : div 요소의 후손 요소 중 p요소를 모두 선택
- div > p (자식 선택자) : div 요소의 자식 요소 중 p 요소를 모두 선택
- p + ul (인접 형제 선택자) : p요소의 형제 요소 중에 p 요소 바로 뒤에 위치하는 ul 요소를 선택
- p ~ ul (일반 형제 선택자) : p요소의 형제 요소 중에 p 요소 뒤에 위치하는 ul 요소를 모두 선택
- a:hover (가상 클래스 선택자) : hover 상태인 a요소를 모두 선택
- p::before (before) : p 요소의 콘텐츠 앞에 위치하는 공간을 선택, 일반적으로 content 프로퍼티와 함께 사용된다.

### 39.2.5 특정 요소 노드를 취득 할 수 있는지 확인

Element.prototype.matches 메서드는 인수로 전달 받은 CSS 선택자를 통해 특정 요소를 취득 할 수 있는 지 확인 한다.

따라서 리턴은 불린 값으로 나타난다.

### 39.2.6 HTMLCollection 과 NodeList

HTMLCollection 과 NodeList는 DOM API가 여러값을 반환학기 위한 DOM 컬랙션 객체이며 이터러블이다.

HTMLCollection 과 NodeList는 모두 노드 객체의 상태 변화를 실시간으로 반영하는 살아있는 객체이다.

# 39.3 노드 탐색

요소 노드를 취득한 다음 요소 노드를 기점으로 DOM트리의 노드를 옮겨 다니며 다른 노드 들을 탐색 해야 할 때도 있다.
